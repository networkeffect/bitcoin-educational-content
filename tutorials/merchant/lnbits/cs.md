---
name: LNbits
description: ÃšÄetnÃ­ platforma pro obchodnÃ­ky
---
![presentation](assets/lnbits-intro.webp)

# ÃšÄetnÃ­ systÃ©m

LNbits obsahuje spoustu nÃ¡strojÅ¯ pro ovlÃ¡dÃ¡nÃ­ a smÄ›rovÃ¡nÃ­ pÅ™Ã­chozÃ­ch a odchozÃ­ch penÄ›z, pÅ™ipojenÃ­ webovÃ©ho obchodu nebo dokonce zaÅ™Ã­zenÃ­, jako je hardwarovÃ¡ penÄ›Å¾enka nebo bankomat, kterÃ© jste si sami vytvoÅ™ili. Mezi typy uÅ¾ivatelÅ¯ patÅ™Ã­ napÅ™:


- MajitelÃ© penÄ›Å¾enek, kteÅ™Ã­ chtÄ›jÃ­ pouÅ¾Ã­vat LNbits jako rozhranÃ­ pro sprÃ¡vu svÃ½ch prostÅ™edkÅ¯ i jejich dalÅ¡Ã­ch funkcÃ­.
- Online i offline obchodnÃ­ci nebo poskytovatelÃ© sluÅ¾eb, kteÅ™Ã­ chtÄ›jÃ­ pÅ™ijÃ­mat platby v Bitcoin onchainu a Lightning Network.
- VÃ½vojÃ¡Å™i, kteÅ™Ã­ chtÄ›jÃ­ vytvÃ¡Å™et aplikace Lightning Network.
- ProvozovatelÃ© uzlÅ¯, kteÅ™Ã­ chtÄ›jÃ­ integrovat svÅ¯j uzel se systÃ©mem LNbits pro ÃºÄely ÃºÄetnictvÃ­.
- VÅ¡ichni majÃ­ rÅ¯znÃ© potÅ™eby. LNbits vytvÃ¡Å™Ã­me modulÃ¡rnÄ›, aby kaÅ¾dÃ½ uÅ¾ivatel mohl vyuÅ¾Ã­vat naÅ¡e funkce zpÅ¯sobem, kterÃ½ mu nejlÃ©pe vyhovuje.

# SprÃ¡vce penÄ›Å¾enky

LNbits je svobodnÃ½ ÃºÄetnÃ­ systÃ©m s otevÅ™enÃ½m zdrojovÃ½m kÃ³dem - ne sprÃ¡vce uzlÅ¯. SprÃ¡va kanÃ¡lÅ¯ je domÃ©nou uzlu Lightning, kterÃ½ je pÅ™ipojen k LNbits jako zdroj financovÃ¡nÃ­, stejnÄ› jako LND nebo c-lightning. Za sprÃ¡vu celkovÃ© pÅ™Ã­stupnosti a konfiguraci ÃºÄetnÃ­ch funkcÃ­ a internÃ­ch rozÅ¡Ã­Å™enÃ­ jsou v systÃ©mu LNbits odpovÄ›dnÃ­ uÅ¾ivatelÃ© Superuser nebo Admin.

LNbits funguje jako rozhranÃ­ mezi uÅ¾ivatelem a uzlem Lightning a poskytuje jednoduchÃ½ a uÅ¾ivatelsky pÅ™Ã­vÄ›tivÃ½ zpÅ¯sob sprÃ¡vy a interakce s platebnÃ­ sÃ­tÃ­.

PÅ™edstavte si LNbits jako "modulÃ¡rnÃ­ framework Wordpress" pro vÃ¡Å¡ uzel. Snadno spravovatelnÃ¡ platforma zaloÅ¾enÃ¡ na rozÅ¡Ã­Å™enÃ­ch, kterÃ¡ mÅ¯Å¾ete kombinovat pro mnoho pÅ™Ã­padÅ¯ pouÅ¾itÃ­.

PÅ™edstavte si LNbits jako svÅ¯j vlastnÃ­ software pro sprÃ¡vu bankovnÃ­ch financÃ­. VÃ¡Å¡ uzel nabÃ­zÃ­ kanÃ¡ly pro placenÃ­ a LNbits rozÅ¡iÅ™uje vÃ¡Å¡ uzel tak, abyste mohli provozovat vÃ­ce neÅ¾ jednu bleskovou penÄ›Å¾enku, kterou vÃ¡Å¡ uzel obsahuje. Tyto penÄ›Å¾enky nemusÃ­ nutnÄ› patÅ™it vÃ¡m. Å˜eknÄ›me, Å¾e jako provozovatel uzlu LN jiÅ¾ mÃ¡te dostatek likvidity kanÃ¡lÅ¯ a finanÄnÃ­ch prostÅ™edkÅ¯ a nynÃ­ chcete nabÃ­dnout nÄ›kterÃ© bankovnÃ­ sluÅ¾by v bitcoinech svÃ½m pÅ™Ã¡telÅ¯m, rodinÄ›, vlastnÃ­mu obchodu nebo jinÃ½m bÄ›Å¾nÃ½m obchodnÃ­kÅ¯m.

NabÃ­dnete jim jednoduchÃ½ zpÅ¯sob, jak si otevÅ™Ã­t "bankovnÃ­ ÃºÄet" na vaÅ¡em uzlu, aniÅ¾ by mÄ›li pÅ™Ã­stup k ostatnÃ­m penÄ›Å¾enkÃ¡m na vaÅ¡em uzlu a k veÅ¡kerÃ© likviditÄ› vaÅ¡eho uzlu, ale pouze ke svÃ© ÄÃ¡sti. VÃ¡Å¡ uzel (banka) funguje pouze jako poskytovatel dopravy pro jejich platby (do/z).

POZNÃMKA: vÅ¡echny prostÅ™edky, kterÃ© vaÅ¡i "zÃ¡kaznÃ­ci" vloÅ¾Ã­ na svÃ© bankovnÃ­ ÃºÄty LNbits ve vaÅ¡em uzlu, pÅ¯jdou pÅ™Ã­mo do kanÃ¡lÅ¯ LN ve vaÅ¡em uzlu. To znamenÃ¡, Å¾e skuteÄnÃ½m vlastnÃ­kem tÄ›chto prostÅ™edkÅ¯ jste VY. Za jejich prostÅ™edky budete mÃ­t velkou zodpovÄ›dnost. NebuÄte zlÃ­ a neutÃ­kejte s prostÅ™edky, nebuÄte zlÃ­ a neÃºÄtujte vysokÃ© poplatky. Chceme vyjebat s fiat bankstery, ne vyjebat mezi sebou (s uÅ¾ivateli bitcoinu).

# DemonstraÄnÃ­ platforma

Demo najdete na adrese [https://legend.lnbits.com](https://legend.lnbits.com). Je plnÄ› funkÄnÃ­ a lze ji pouÅ¾Ã­t k seznÃ¡menÃ­ se s Lightning Network a funkcemi LNbits a LNURL obecnÄ›. PÅ™estoÅ¾e vÃ¡m v tom nemÅ¯Å¾eme zabrÃ¡nit, rÃ¡di bychom vÃ¡s poÅ¾Ã¡dali, abyste ji nepouÅ¾Ã­vali pro produkÄnÃ­ nastavenÃ­. NejenÅ¾e na serverech Äasto pracujeme, abychom otestovali novÃ© funkce, ale takÃ© bychom vÃ¡s rÃ¡di povzbudili k suverÃ©nnÃ­mu provozovÃ¡nÃ­ vlastnÃ­ho uzlu a LNbits. Pokud si myslÃ­te, Å¾e provozovÃ¡nÃ­ vlastnÃ­ho uzlu je pro vÃ¡s v tuto chvÃ­li pÅ™Ã­liÅ¡ nÃ¡roÄnÃ©, mÅ¯Å¾ete LNbits pÅ™ipojit ke sluÅ¾bÄ› custodian funding sservice v cloudu, jako je Opennode, Luna nebo Votage, nebo k Lightning Tipbot na Telegramu, abychom jmenovali alespoÅˆ nÄ›kterÃ©.

# LetÃ¡k LNbits

Chcete pÅ™edat zÃ¡kladnÃ­ informace obchodnÃ­kovi nebo svÃ©mu znÃ¡mÃ©mu ze stavebnictvÃ­ ? S velkou radostÃ­ vÃ¡m oznamujeme nÃ¡Å¡ prvnÃ­ letÃ¡k, kterÃ½ mÅ¯Å¾e kaÅ¾dÃ½ vyuÅ¾Ã­t. JednÃ¡ se o celosvÄ›tovÄ› typickÃ½ formÃ¡t letÃ¡ku o 6 stranÃ¡ch (2 sklady) a Å¡Ã­Å™ce 3508 a vÃ½Å¡ce 2480px.

LNbits pro obchodnÃ­ky: [EN](/assets/lnbits-merchants-en.pdf) | [DE](/assets/lnbits-merchants-de.pdf) | [ES](/assets/lnbits-merchants-es.pdf) | [IT](/assets/lnbits-merchants-it.pdf) | [PL](/assets/lnbits-merchants-pl.pdf)

LNbits pro stavitele: [EN](/assets/lnbits-builders-en.pdf) | [DE](/assets/lnbits-builders-de.pdf) | [ES](/assets/lnbits-builders-es.pdf) | [IT](/assets/lnbits-builders-it.pdf) | [PL](/assets/lnbits-builders-pl.pdf)

# NÄ›kterÃ© zÃ¡klady

LNbits funguje na zÃ¡kladÄ› protokolu LNURL, coÅ¾ znamenÃ¡, Å¾e poÅ¾adavky jsou platnÃ© ve dvou formÃ¡ch: buÄ jako https:// clearnet link (nejsou povoleny Å¾Ã¡dnÃ© samopodepsanÃ© certifikÃ¡ty), nebo jako http:// v2/v3 onion link. Chcete-li nabÃ­zet sluÅ¾by LNbits, jako jsou kÃ³dy LNURLp/w QR nebo karty NFC, kterÃ© lze pouÅ¾Ã­vat ve volnÃ© pÅ™Ã­rodÄ›, musÃ­te LNbits otevÅ™Ã­t do sÃ­tÄ› clearnet (https).

PÅ™ed instalacÃ­ LNbits se ujistÄ›te, Å¾e jste si pÅ™eÄetli a pochopili nÃ¡sledujÃ­cÃ­ obecnÃ© pokyny o tom, co je LNbits a jakÃ© moÅ¾nosti vÃ¡m nabÃ­zÃ­.


- [PrÅ¯vodce LND](https://docs.lightning.engineering/) | Instalace LND
- [PÅ™Ã­klad konfigurace LND](https://github.com/lightningnetwork/lnd/blob/master/sample-lnd.conf) | NastavenÃ­ LND
- [CLN Guide](https://docs.corelightning.org/docs/installation) | Instalace CLN
- [LUDs](https://github.com/lnurl/luds) LNURL Spec | [NIPs](https://github.com/nostr-protocol/nips) Nostr Spec
- [Spustit strÃ¡Å¾nÃ­ vÄ›Å¾](https://docs.lightning.engineering/lightning-network-tools/lnd/watchtower) | Velmi dÅ¯leÅ¾itÃ©!

PodrobnÄ›jÅ¡Ã­ nÃ¡vody na pouÅ¾itÃ­ LNbitÅ¯ v konkrÃ©tnÃ­ch scÃ©nÃ¡Å™Ã­ch pouÅ¾itÃ­ naleznete zde:


- [ZaÄÃ­nÃ¡me s LNbits](https://darthcoin.substack.com/p/getting-started-lnbits) | Substack guide
- [ToDos pro vaÅ¡i bezpeÄnost s LNbits](https://youtu.be/i5FQf96e6zg) | Youtube Video
- [SoukromÃ© banky v sÃ­ti Lightning](https://darthcoin.substack.com/p/bitcoin-private-banks-over-lightning) | PrÅ¯vodce podsloÅ¾kou
- [SpusÅ¥te penÄ›Å¾enky sprÃ¡vce pro svÃ© pÅ™Ã¡tele a rodinu](https://darthcoin.substack.com/p/the-bank-of-lnbits) | Substack guide
- [LNbits pro malou restauraci / hotel](https://darthcoin.substack.com/p/lnbits-for-small-merchants) | Substack guide
- [PouÅ¾Ã­vÃ¡nÃ­ kopilota LNbits Streamer](https://darthcoin.substack.com/p/lnbits-streamer-copilot) | Substack guide
- [SpusÅ¥te svÅ¯j trh NOSTR s LNbits](https://darthcoin.substack.com/p/lnbits-nostr-market) | PrÅ¯vodce podsloÅ¾kou
- [PouÅ¾itÃ­ LNbits pro Å¡kolnÃ­ projekty nebo festivalovÃ© akce](https://darthcoin.substack.com/p/lnbits-saas-a-solution-for-schools) PrÅ¯vodce pro nÃ¡hradnÃ­ky

# Instalace LNbits

## ZÃ¡kladnÃ­ prÅ¯vodce instalacÃ­

LNbits lze nainstalovat na libovolnÃ½ poÄÃ­taÄ s operaÄnÃ­m systÃ©mem Linux. NevyÅ¾aduje vÃ½konnÃ½ stroj nebo server, staÄÃ­ dostateÄnÃ¡ pamÄ›Å¥ RAM a urÄitÃ½ prostor na disku pro databÃ¡zi. MÅ¯Å¾e bÃ½t spuÅ¡tÄ›n oddÄ›lenÄ› od uzlu BTC/LN (mÃ­stnÃ­ PC nebo vzdÃ¡lenÃ½ VPS) nebo spoleÄnÄ› na stejnÃ©m stroji s uzlem nebo jiÅ¾ nainstalovanÃ½ v softwarovÃ©m stroji s uzlem bundle.

MÅ¯Å¾ete si vybrat mezi nejbÄ›Å¾nÄ›jÅ¡Ã­mi sprÃ¡vci balÃ­ÄkÅ¯, jako jsou poetry a nix. LNbits ve vÃ½chozÃ­m nastavenÃ­ pouÅ¾Ã­vÃ¡ jako databÃ¡zi SQLite. MÅ¯Å¾ete takÃ© pouÅ¾Ã­t PostgreSQL, coÅ¾ se doporuÄuje pro aplikace s vysokou zÃ¡tÄ›Å¾Ã­. [Zde je nÃ¡vod pro zÃ¡kladnÃ­ instalaci pomocÃ­ poetry nebo nix](https://github.com/lnbits/lnbits/blob/main/docs/guide/installation.md).

VÅ¡ichni, kteÅ™Ã­ se s tÃ­mto tÃ©matem teprve seznamujÃ­, zde najdou podrobnÄ›jÅ¡Ã­ nÃ¡vody krok za krokem, jak zprovoznit LNbits v konkrÃ©tnÃ­ch prostÅ™edÃ­ch:


- [LNbits on clearnet](https://ereignishorizont.xyz/lnbits-server/en/) od Axel
- [LNbits na VPS](https://github.com/TrezorHannes/vps-lnbits) by Hannes
- [LNbits na cloudflare](https://www.nodeacademy.org/lnbits) od Leo

Video najdete takÃ© na strÃ¡nce [dockerised Setup on a VPS with PostgreSQ, LightningTipBot as a funding source using nginx](https://www.massmux.com/howto-complete-lightningtipbot-lnbits-setup-vps/).

[DalÅ¡Ã­ scÃ©nÃ¡Å™e instalace zde](https://darthcoin.substack.com/p/build-your-own-lnbits-app-server).

Pokud jde o softwarovÃ© uzly svazkÅ¯, podÃ­vejte se do jejich specifickÃ© dokumentace o LNbits: [Citadela](https://runcitadel.space) | [Umbrel](https://umbrel.com) | [MyNode](https://mynodebtc.com) | [RaspiBlitz](https://raspiblitz.org/) | [RaspiBolt](https://raspibolt.org)

## LNbits SaaS

Pokud se nezabÃ½vÃ¡te technickÃ½mi zÃ¡leÅ¾itostmi a nechcete sami hostovat zdroj financovÃ¡nÃ­ ani lnbits, mÅ¯Å¾ete pouÅ¾Ã­t verzi [LNbits SaaS](https://saas.lnbits.com) (Software jako sluÅ¾ba). Je to v podstatÄ› jako LNbits v cloudu, ale mÅ¯Å¾ete si sami definovat zdroj financovÃ¡nÃ­ (napÅ™. svÅ¯j uzel, penÄ›Å¾enku LNbits, LNtipbot, fakewallet atd.) a promÄ›nnÃ© prostÅ™edÃ­ - coÅ¾ u jinÃ½ch cloudovÃ½ch Å™eÅ¡enÃ­ vÄ›tÅ¡inou nenÃ­.

[Zde je podrobnÃ½ nÃ¡vod, jak pouÅ¾Ã­vat LNbits SaaS pro konkrÃ©tnÃ­ pÅ™Ã­pady pouÅ¾itÃ­](https://darthcoin.substack.com/p/lnbits-saas-a-solution-for-schools).

## Zdroje financovÃ¡nÃ­

LNbits nenÃ­ software pro sprÃ¡vu uzlÅ¯, ale ÃºÄetnÃ­ systÃ©m zamÄ›Å™enÃ½ na LN nad zdrojem financovÃ¡nÃ­ LND nebo CLN. Po prvnÃ­ instalaci mÅ¯Å¾ete LNbits navÅ¡tÃ­vit na adrese http://localhost:5000/.

Chcete-li zmÄ›nit zdroj financovÃ¡nÃ­, pÅ™ejdÄ›te na svÅ¯j superuÅ¾ivatelskÃ½ server a vyberte zdroj financovÃ¡nÃ­ v ÄÃ¡sti "SprÃ¡va serveru" nebo upravte soubor .env zmÄ›nou `LNBITS_BACKEND_WALLET_CLASS` na poÅ¾adovanÃ½ zdroj, pokud jste v souboru `.env` nastavili `adminUI=TRUE`.

Soubor .env najdete ve sloÅ¾ce lnbits/ nebo lnbits/apps/data tak, Å¾e pÅ™Ã­kaz rozÅ¡Ã­Å™Ã­te o vÃ½pis souborÅ¯ v adresÃ¡Å™i pomocÃ­ `ls -a`.

MÅ¯Å¾e bÃ½t takÃ© nutnÃ© nainstalovat dalÅ¡Ã­ balÃ­Äky nebo provÃ©st dalÅ¡Ã­ kroky nastavenÃ­ a vybrat poÅ¾adovanÃ½ zdroj financovÃ¡nÃ­. Po restartu bude vaÅ¡e novÃ© nastavenÃ­ aktivnÃ­.

JakÃ© zdroje financovÃ¡nÃ­ mohu pro LNbits pouÅ¾Ã­t?

LNbits mÅ¯Å¾e bÄ›Å¾et nad mnoha zdroji financovÃ¡nÃ­ bleskovÃ© sÃ­tÄ›. V souÄasnÃ© dobÄ› jsou podporovÃ¡ny sluÅ¾by CoreLightning, LND, LNbits, LNPay, OpenNode a pravidelnÄ› pÅ™ibÃ½vajÃ­ dalÅ¡Ã­.

Je dÅ¯leÅ¾itÃ© vybrat si zdroj, kterÃ½ mÃ¡ dobrou likviditu a dobrÃ© partnery. Pokud pouÅ¾Ã­vÃ¡te LNbits pro veÅ™ejnÃ© sluÅ¾by, mohou platby vaÅ¡ich uÅ¾ivatelÅ¯ jen tehdy spokojenÄ› proudit obÄ›ma smÄ›ry.

Backendovou penÄ›Å¾enku (zdroj financovÃ¡nÃ­) lze nakonfigurovat pomocÃ­ nÃ¡sledujÃ­cÃ­ch promÄ›nnÃ½ch prostÅ™edÃ­ LNbits v souboru `.env` nebo v rÃ¡mci vaÅ¡eho superuÅ¾ivatelskÃ©ho ÃºÄtu v sekci Manage-Server.

Pokud chcete pouÅ¾Ã­t verzi .env, parametry najdete zde:

### CoreLightning


- CLN
  - `LNBITS_BACKEND_WALLET_CLASS`: **CoreLightningWallet**
  - `CORELIGHTNING_RPC`: /file/path/lightning-rpc
- Jiskra (c-blesk)
  - `LNBITS_BACKEND_WALLET_CLASS`: **SparkWallet**
  - `SPARK_URL`: http://10.147.17.230:9737/rpc
   - `SPARK_TOKEN`: secret_access_key

### DÃ©mon sÃ­tÄ› Lightning


- LND (REST)
  - `LNBITS_BACKEND_WALLET_CLASS`: **LndRestWallet**
  - `LND_REST_ENDPOINT`: http://10.147.17.230:8080/
  - `LND_REST_CERT`: /file/path/tls.cert
  - `LND_REST_MACAROON`: /file/path/admin.macaroon nebo Bech64/Hex
  - `LND_REST_MACAROON_ENCRYPTED`: eNcRyPtEdMaCaRoOn
- LND (gRPC)
  - `LNBITS_BACKEND_WALLET_CLASS`: **LndWallet**
  - `LND_GRPC_ENDPOINT`: ip_address
  - `LND_GRPC_PORT`: port
  - `LND_GRPC_CERT`: /file/path/tls.cert
  - `LND_GRPC_MACAROON`: macaroon: /file/path/admin.macaroon nebo Bech64/Hex

MÃ­sto toho mÅ¯Å¾ete takÃ© pouÅ¾Ã­t makronku Å¡ifrovanou pomocÃ­ AES (vÃ­ce informacÃ­) pomocÃ­ pÅ™Ã­kazu


  - `LND_GRPC_MACAROON_ENCRYPTED`: eNcRyPtEdMaCaRoOn

Chcete-li zaÅ¡ifrovat svÅ¯j macaroon, spusÅ¥te `./venv/bin/python lnbits/wallets/macaroon/macaroon.py`.

### LNbits (dalÅ¡Ã­ instance LNbits)


- Instance LNbits hostovanÃ¡ na cloudovÃ©m serveru nebo na vaÅ¡em domÃ¡cÃ­m serveru
  - `LNBITS_BACKEND_WALLET_CLASS`: **LNbitsWallet**
  - `LNBITS_ENDPOINT`: https://lnbits.mydomain.com
  - `LNBITS_KEY`: my-lnbits-AdminKey
- LNbits Legend Demo Server (!! NEPOUÅ½ÃVEJTE jej pro produkÄnÃ­ / komerÄnÃ­ ÃºÄely, pouze pro testovÃ¡nÃ­ !!)
  - `LNBITS_BACKEND_WALLET_CLASS`: **LNbitsWallet**
  - `LNBITS_ENDPOINT`: https://legend.lnbits.com
  - `LNBITS_KEY`: legend-lnbits-AdminKey

### Lightning TipBot

Chcete-li pÅ™ipojit svÅ¯j [Lightning Tipbot](https://t.me/LightningTipBot) z Telegramu, musÃ­te nastavit nÃ¡sledujÃ­cÃ­ parametr:


  - `LNBITS_BACKEND_WALLET_CLASS`: **LnTipsWallet**
  - `LNBITS_ENDPOINT`: https://ln.tips
  - `LNBITS_KEY`: Pro zÃ­skÃ¡nÃ­ klÃ­Äe musÃ­te jednou spustit /api v soukromÃ©m chatu s LightningTipbotem na Telegramu.

PodÃ­vejte se takÃ© na tento nÃ¡vod, jak nainstalovat [LNbits s LightningTipBot pÅ™es vps](https://www.massmux.com/howto-complete-lightningtipbot-lnbits-setup-vps/)

### IBEX HUB

Zaregistrujte se [zde](https://ibexpay.ibexmercado.com/onboard) a zÃ­skejte klÃ­Äe/tokeny odtud, koncovÃ½ bod je https://ibexpay-api.ibexmercado.com.

VÃ­ce informacÃ­ naleznete v [IBEX API-Documentation](https://ibexpay-api.readme.io/reference/getting-started-with-your-api).

### LNPay

Aby poslouchÃ¡nÃ­ faktur fungovalo, musÃ­te mÃ­t v LNbits veÅ™ejnÄ› pÅ™Ã­stupnou adresu URL a nastavit [LNPay webhook](https://dashboard.lnpay.co/webhook/) ukazujÃ­cÃ­ na `<VÃ¡Å¡ hostitel LNbits>/wallet/webhook` s udÃ¡lostÃ­ "PÅ™Ã­jem penÄ›Å¾enky" a bez zadÃ¡nÃ­ tajemstvÃ­. NastavenÃ­ `https://mylnbits/wallet/webhook` bude url koncovÃ©ho bodu, kterÃ½ bude informovÃ¡n o kaÅ¾dÃ© platbÄ›.


  - `LNBITS_BACKEND_WALLET_CLASS`: **LNPayWallet**
  - `LNPAY_API_ENDPOINT`: https://api.lnpay.co/v1/
  - `LNPAY_API_KEY`: sak_apiKey
  - `LNPAY_WALLET_KEY`: waka_apiKey

### OpenNode

Aby faktura fungovala, musÃ­te mÃ­t v LNbits veÅ™ejnÄ› pÅ™Ã­stupnou adresu URL. NastavenÃ­ webhooku je volitelnÃ©.


  - `LNBITS_BACKEND_WALLET_CLASS`: **OpenNodeWallet**
  - `OPENNODE_API_ENDPOINT`: https://api.opennode.com/
  - `OPENNODE_KEY`: opennodeAdminApiKey

### Alby

Alby je rozÅ¡Ã­Å™enÃ­ prohlÃ­Å¾eÄe s funkcemi penÄ›Å¾enky LN a ÃºÄtu LNDHUB, kterÃ© lze pouÅ¾Ã­t jako zdroj financovÃ¡nÃ­ LNbits. [VÃ­ce informacÃ­ zde](https://getalby.com/).

Aby faktura fungovala, musÃ­te mÃ­t v LNbits veÅ™ejnÄ› pÅ™Ã­stupnou adresu URL. Å½Ã¡dnÃ© ruÄnÃ­ nastavenÃ­ webhooku nenÃ­ nutnÃ©. PÅ™Ã­stupovÃ½ token Alby si mÅ¯Å¾ete vygenerovat zde: https://getalby.com/developer/access_tokens/new


- `LNBITS_BACKEND_WALLET_CLASS`: AlbyWallet
- `ALBY_API_ENDPOINT`: https://api.getalby.com/
- `ALBY_ACCESS_TOKEN`: AlbyAccessToken

## DalÅ¡Ã­ / PrÅ¯vodci Å™eÅ¡enÃ­m problÃ©mÅ¯

Zde jsou dalÅ¡Ã­ pokyny pro pÅ™Ã­pad, Å¾e byste je potÅ™ebovali. KliknutÃ­m na Å¡ipku rozbalÃ­te popis.

### The Killswitch ğŸš¨

V poslednÃ­ dobÄ› se objevilo tolik nebezpeÄnÃ½ch chyb nejen v celÃ©m prostoru, ale i v LNbits, Å¾e jsme se rozhodli s tÃ­m nÄ›co udÄ›lat. NynÃ­ se mÅ¯Å¾ete pÅ™ihlÃ¡sit k odbÄ›ru varovÃ¡nÃ­ a/nebo k pÅ™Ã­mÃ© akci, pokud se opÄ›t objevÃ­ zranitelnost nebo chyba, kterÃ¡ by mohla vÃ©st ke ztrÃ¡tÄ› finanÄnÃ­ch prostÅ™edkÅ¯.

![killswitchn](assets/lnbits-killswitch.webp)

Pokud se pÅ™epne na void-wallet, vÅ¡echny typy uÅ¾ivatelÅ¯ na instanci uvidÃ­ Å¾lutÃ½ banner, kde byste normÃ¡lnÄ› naÅ¡li oznÃ¡menÃ­ "LNbits is in Beta" vedle tÃ©matu/jazyka vpravo nahoÅ™e - a je to nejzÅ™etelnÄ›jÅ¡Ã­ nÃ¡znak, Å¾e se nÄ›co stalo. PodÃ­vejte se na svÅ¯j novÃ½ server-zÃ¡loÅ¾ku zvÃ½raznÄ›nou zelenÄ› v levÃ© ÄÃ¡sti okna.

Jak to funguje? KdyÅ¾ je killswitch povolen, tajnÃ½ repozitÃ¡Å™ na githubu, kterÃ½ je dostupnÃ½ pouze hlavnÃ­mu tÃ½mu LNbits, bude kontrolovÃ¡n v intervalu X minut (kterÃ½ lze zadat). Pokud je v tomto repozitÃ¡Å™i zveÅ™ejnÄ›na zranitelnÃ¡ chyba, slouÅ¾Ã­ to jako signÃ¡l, kterÃ½ spustÃ­ killswitch na vÅ¡ech instalacÃ­ch, kterÃ© se pÅ™ihlÃ¡sily k odbÄ›ru, a pÅ™ejde vaÅ¡e instance lnbits na pouÅ¾Ã­vÃ¡nÃ­ penÄ›Å¾enky void. Pokud se mraky vyÄistily a vy jste nainstalovali bezpeÄnostnÃ­ aktualizaci, mÅ¯Å¾ete zdroj financovÃ¡nÃ­ nastavit na svÅ¯j uzel, penÄ›Å¾enku nebo cokoli jinÃ©ho, co pouÅ¾Ã­vÃ¡te, znovu takÃ© prostÅ™ednictvÃ­m sekce SprÃ¡va serveru. Na tÃ©to wiki je sekce o pÅ™epÃ­nÃ¡nÃ­ zdrojÅ¯ financovÃ¡nÃ­, pokud nevÃ­te, co nastavit.

### RozdÃ­l mezi sprÃ¡vcem a superuÅ¾ivatelem

UÅ¾ivatelskÃ© rozhranÃ­ sprÃ¡vce systÃ©mu LNbits umoÅ¾Åˆuje mÄ›nit nastavenÃ­ systÃ©mu LNbits prostÅ™ednictvÃ­m rozhranÃ­ LNbits. Ve vÃ½chozÃ­m nastavenÃ­ je vypnuto a pÅ™i prvnÃ­m nastavenÃ­ promÄ›nnÃ© prostÅ™edÃ­ `LNBITS_ADMIN_UI=true` v souboru `.env` se nastavenÃ­ inicializuje a bude pouÅ¾ito. Od tÃ©to chvÃ­le se mÃ­sto nastavenÃ­ ze souboru .env pouÅ¾ijÃ­ nastavenÃ­ z databÃ¡ze.

### Super uÅ¾ivatel

S uÅ¾ivatelskÃ½m rozhranÃ­m sprÃ¡vce jsme zavedli superuÅ¾ivatele, kterÃ½ mÃ¡ pÅ™Ã­stup k serveru, takÅ¾e mÅ¯Å¾e mÄ›nit nastavenÃ­, kterÃ¡ mohou zpÅ¯sobit pÃ¡d serveru nebo jeho nereagovÃ¡nÃ­ prostÅ™ednictvÃ­m frontendu a rozhranÃ­ API, jako je napÅ™. zmÄ›na zdroje financovÃ¡nÃ­. SuperuÅ¾ivatel je uloÅ¾en pouze uvnitÅ™ tabulky nastavenÃ­ v databÃ¡zi. Po "obnovenÃ­ vÃ½chozÃ­ho nastavenÃ­" a restartu se vytvoÅ™Ã­ novÃ½ superuÅ¾ivatel. PÅ™idali jsme takÃ© dekorÃ¡tor pro trasy API, kterÃ½ kontroluje existenci superuÅ¾ivatele. Jeho ID se nikdy neposÃ­lÃ¡ pÅ™es api a frontend a pouze dostÃ¡vÃ¡ bool (ano/ne), zda jste superuÅ¾ivatel, nebo ne.

Pouze superuÅ¾ivatel mÅ¯Å¾e pÅ™es sekci "Top Up" pÅ™evÃ¡dÄ›t satoshis do rÅ¯znÃ½ch penÄ›Å¾enek.

StejnÄ› tak mÅ¯Å¾ete superuÅ¾ivatele po jeho vytvoÅ™enÃ­ odeslat prostÅ™ednictvÃ­m webhooku do jinÃ© sluÅ¾by. VÃ­ce informacÃ­ zde https://github.com/lnbits/lnbits/blob/main/lnbits/settings.py `tÅ™Ã­da SaaSSettings`

Ve frontendu najdete takÃ© moÅ¾nost zmÄ›nit obrÃ¡zek obchodu, kterÃ½ se zobrazuje na strÃ¡nce "vytvoÅ™it penÄ›Å¾enku", a to tak, Å¾e otevÅ™ete sekci SprÃ¡va serveru a vyberete moÅ¾nost Motiv -> VlastnÃ­ logo.

### UÅ¾ivatelÃ© sprÃ¡vce

PromÄ›nnÃ¡ prostÅ™edÃ­: `LNBITS_ADMIN_USERS`, seznam ID uÅ¾ivatelÅ¯ oddÄ›lenÃ½ ÄÃ¡rkou. UÅ¾ivatelÃ© administrÃ¡tora mohou mÄ›nit nastavenÃ­ v uÅ¾ivatelskÃ©m rozhranÃ­ administrÃ¡tora - s vÃ½jimkou nastavenÃ­ zdroje financovÃ¡nÃ­, protoÅ¾e to by vyÅ¾adovalo restart serveru a mohlo by potenciÃ¡lnÄ› zpÅ¯sobit jeho nedostupnost. TakÃ© majÃ­ pÅ™Ã­stup ke vÅ¡em rozÅ¡Ã­Å™enÃ­m, kterÃ¡ jsou jim vyhrazena v `LNBITS_ADMIN_EXTENSIONS`.

### PovolenÃ­ uÅ¾ivatelÃ©

PromÄ›nnÃ¡ prostÅ™edÃ­: `LNBITS_ALLOWED_USERS`, seznam ID uÅ¾ivatelÅ¯ oddÄ›lenÃ½ ÄÃ¡rkou. DefinovÃ¡nÃ­m tÄ›chto uÅ¾ivatelÅ¯ jiÅ¾ nebude moÅ¾nÃ© LNbits pouÅ¾Ã­vat veÅ™ejnÄ›. PÅ™Ã­stup k frontendu LNbits pak budou mÃ­t pouze definovanÃ­ uÅ¾ivatelÃ© a administrÃ¡toÅ™i.

#### Aktualizace LNbits

BÄ›Å¾nÃ¡ aktualizace mÃ­stnÃ­ instance LNbits se provÃ¡dÃ­ jednoduÅ¡e zkopÃ­rovÃ¡nÃ­m a vloÅ¾enÃ­m nÃ¡sledujÃ­cÃ­ch pÅ™Ã­kazÅ¯ CLI:

```
cd lnbits
## Stop LNbits with `ctrl + x`
git pull
## Keep your poetry install up to date, this can be done with
poetry self update
poetry install --only main
## or
git checkout main && git pull && poetry install
## Start LNbits with
poetry run lnbits
```

Pokud pouÅ¾Ã­vÃ¡te Raspiblitz nebo MyNode, mÅ¯Å¾ete navÃ­c potÅ™ebovat

```
sudo systemctl restart lnbits
```

na konci, protoÅ¾e spouÅ¡tÃ­ LNbits jako sluÅ¾bu.

V systÃ©mu Umbrel/Citadel by pÅ™Ã­kazy byly nÃ¡sledujÃ­cÃ­

```
cd ~/apps/lnbits
git pull upstream main
sudo ~/scripts/app start lnbits
```

#### PÅ™echod z SQLite na PostgreSQL

Pokud jiÅ¾ mÃ¡te LNbits nainstalovanÃ½ a spuÅ¡tÄ›nÃ½ na databÃ¡zi SQLite, doporuÄujeme pÅ™ejÃ­t na postgres, pokud plÃ¡nujete provozovat LNbits ve velkÃ©m mÄ›Å™Ã­tku.

SouÄÃ¡stÃ­ je skript, kterÃ½ migraci snadno provede. MusÃ­te mÃ­t jiÅ¾ nainstalovanÃ½ Postgres a mÄ›lo by bÃ½t zadÃ¡no heslo pro uÅ¾ivatele (viz vÃ½Å¡e uvedenÃ½ nÃ¡vod k instalaci Postgresu). KromÄ› toho musÃ­ vaÅ¡e instance LNbits jednou bÄ›Å¾et na Postgresu, aby se implementovalo schÃ©ma databÃ¡ze, a teprve potÃ© mÅ¯Å¾e migrace fungovat:

```
# STOP LNbits
# add the database connection string to .env 'nano .env' LNBITS_DATABASE_URL=
# postgres://<user>:<password>@<host>/<database> - alter line bellow with your user, password and db name
LNBITS_DATABASE_URL="postgres://postgres:postgres@localhost/lnbits"
# save and exit
# START LNbits
# STOP LNbits
poetry run python tools/conv.py
# or
make migration
```

Doufejme, Å¾e nynÃ­ vÅ¡e funguje a bude migrovat... SpusÅ¥te LNbits znovu a zkontrolujte, zda vÅ¡e funguje sprÃ¡vnÄ›.

#### ZÃ¡lohovÃ¡nÃ­ a obnovenÃ­ databÃ¡ze

Viz [tento velmi podrobnÃ½ prÅ¯vodce procesem zÃ¡lohovÃ¡nÃ­ a obnovy](https://ereignishorizont.xyz/lnbits-server/en/#94_LNbits_-_Databases_Backup_Restore).

#### FinancovÃ¡nÃ­ penÄ›Å¾enky LNbits z mÃ©ho uzlu nefunguje

Pokud chcete odesÃ­lat satelity ze stejnÃ©ho uzlu, kterÃ½ je zdrojem financovÃ¡nÃ­ LNbitÅ¯, musÃ­te upravit soubor lnd.conf.

Je tÅ™eba zahrnout tyto parametry: `allow-circular-route=1`

UÄiÅˆte tak v ÄÃ¡sti Application options v souboru lnd.conf. Na nÄ›kterÃ½ch uzlech svazkÅ¯ by jinak mohlo dojÃ­t k selhÃ¡nÃ­ spuÅ¡tÄ›nÃ­ LND.

POZNÃMKA: Pro pÅ™idÃ¡nÃ­ prostÅ™edkÅ¯ na ÃºÄet LNbits doporuÄujeme pouÅ¾Ã­t novÃ© rozÅ¡Ã­Å™enÃ­ adminUI s moÅ¾nostÃ­ "TopUp".

#### Chyba 426

ZobrazÃ­ se mi chyba: "lnurl musÃ­ bÃ½t doruÄen pÅ™es veÅ™ejnÄ› pÅ™Ã­stupnou domÃ©nu https nebo tor. 426 upgrade required"</summary>

Tato chyba je obvykle zpÅ¯sobena tÃ­m, Å¾e LNbits za tunelem ngnix nepÅ™edÃ¡vÃ¡ adresu LNURL sprÃ¡vnÄ›. Zastavte LNbits a upravte soubor .env pÅ™idÃ¡nÃ­m tohoto Å™Ã¡dku:

`FORWARDED_ALLOW_IPS=*`

Pokud pouÅ¾Ã­vÃ¡te konfiguraci ngnix, ujistÄ›te se, Å¾e mÃ¡te tyto hlaviÄky v konfiguraci ngnix:

```
RequestHeader set "X-Forwarded-Proto" expr=%{REQUEST_SCHEME}
RequestHeader set "X-Forwarded-SSL" expr=%{HTTPS}
```

#### Chyba sÃ­tÄ›

PÅ™i skenovÃ¡nÃ­ QR se mi zobrazÃ­ "https error", "network error" nebo jinÃ©</summary>

Å patnÃ¡ zprÃ¡va, jednÃ¡ se o chybu smÄ›rovÃ¡nÃ­, kterÃ¡ mÅ¯Å¾e mÃ­t mnoho pÅ™Ã­Äin. Nejprve zkontrolujte QR's LNURL pomocÃ­ [Lightning Decoder](https://lightningdecoder.com/), zda v nÄ›m nenajdete nÄ›co divnÃ©ho. VyzkouÅ¡Ã­me si nÄ›kolik nejpravdÄ›podobnÄ›jÅ¡Ã­ch problÃ©mÅ¯ a jejich Å™eÅ¡enÃ­.

LNbits bÄ›Å¾Ã­ pouze pÅ™es Tor, nemÅ¯Å¾ete jej otevÅ™Ã­t na veÅ™ejnÃ© domÃ©nÄ›, jako je lnbits.yourdomain.com


- Vzhledem k tomu, Å¾e chcete, aby vaÅ¡e nastavenÃ­ zÅ¯stalo takovÃ©, otevÅ™ete penÄ›Å¾enku LNbits pomocÃ­ URI .onion a vytvoÅ™te ji znovu. TÃ­mto zpÅ¯sobem se vygeneruje QR, kterÃ© bude pÅ™Ã­stupnÃ© pÅ™es toto .onion URI, takÅ¾e pouze pÅ™es tor. NevytvÃ¡Å™ejte tento QR z .local URI, protoÅ¾e nebude dosaÅ¾itelnÃ½ pÅ™es internet - pouze z vaÅ¡Ã­ domÃ¡cÃ­ sÃ­tÄ› LAN.
- OtevÅ™ete aplikaci penÄ›Å¾enky LN, kterou jste pouÅ¾ili ke skenovÃ¡nÃ­ QR, a tentokrÃ¡t pomocÃ­ tor (viz nastavenÃ­ aplikace penÄ›Å¾enky). Pokud aplikace tor nenabÃ­zÃ­, mÅ¯Å¾ete mÃ­sto toho pouÅ¾Ã­t Orbot (Android). PodrobnÃ½ nÃ¡vod, jak otevÅ™Ã­t LNbity pro clearnet/https, najdete v ÄÃ¡sti instalace.

#### ZabrÃ¡nit ostatnÃ­m v generovÃ¡nÃ­ penÄ›Å¾enek na mÃ½ch LNbitech

KdyÅ¾ spustÃ­te LNbits v clearnetu, v podstatÄ› kaÅ¾dÃ½ si na nÄ›m mÅ¯Å¾e vygenerovat penÄ›Å¾enku. Vzhledem k tomu, Å¾e prostÅ™edky vaÅ¡eho uzlu jsou vÃ¡zÃ¡ny na tyto penÄ›Å¾enky, moÅ¾nÃ¡ tomu budete chtÃ­t zabrÃ¡nit. ExistujÃ­ dva zpÅ¯soby, jak toho dosÃ¡hnout:

Nastavte povolenÃ© uÅ¾ivatele a pÅ™Ã­pony v souboru `.env` ([viz pÅ™Ã­klad env zde](https://github.com/lnbits/lnbits/blob/main/.env.example)). To funguje pouze v pÅ™Ã­padÄ›, Å¾e v souboru .env pouÅ¾ijete nastavenÃ­ `adminUI=FALSE`, v opaÄnÃ©m pÅ™Ã­padÄ› to musÃ­te provÃ©st v sekci SprÃ¡va serveru -> UÅ¾ivatelÃ© -> PovolenÃ­ uÅ¾ivatelÃ©. VÅ¡ichni ostatnÃ­ potÃ© nebudou mÃ­t povolenÃ­.

#### PÅ™izpÅ¯sobenÃ­ doby platnosti faktury

NynÃ­ mÅ¯Å¾ete generovat faktury s vlastnÃ­ expiracÃ­. KompatibilnÃ­ s backendy: LndRestWallet, LndWallet, CoreLightningWallet, EclairWallet, LnbitsWallet, SparkWallet!

MÅ¯Å¾ete nastavit `LIGHTNING_INVOICE_EXPIRY` ve svÃ©m souboru .env nebo pomocÃ­ AdminUI zmÄ›nit vÃ½chozÃ­ hodnotu pro vÅ¡echny faktury. V koncovÃ©m bodÄ› /api/v1/payments je takÃ© novÃ© pole, kde mÅ¯Å¾ete nastavit expiraci v datech JSON.

## PenÄ›Å¾enka-URL odstranÄ›na

### PenÄ›Å¾enka na demo serveru legend.lnbits

VÅ¾dy si na bezpeÄnÃ©m mÃ­stÄ› uloÅ¾te kopii svÃ© penÄ›Å¾enky-URL, Export2phone-QR nebo LNDhub pro svÃ© vlastnÃ­ penÄ›Å¾enky. LNbits vÃ¡m je pÅ™i ztrÃ¡tÄ› NEMÅ®Å½E pomoci obnovit.

### PenÄ›Å¾enka na vlastnÃ­m zdroji financovÃ¡nÃ­/uzlu

VÅ¾dy si na bezpeÄnÃ©m mÃ­stÄ› uloÅ¾te kopii svÃ© penÄ›Å¾enky-URL, Export2phone-QR nebo LNDhub pro svÃ© vlastnÃ­ penÄ›Å¾enky. VÅ¡echny uÅ¾ivatele LNbits a identifikaÄnÃ­ ÄÃ­sla penÄ›Å¾enek najdete v rozÅ¡Ã­Å™enÃ­ sprÃ¡vce uÅ¾ivatelÅ¯ LNbits nebo v databÃ¡zi sqlite. Chcete-li upravit nebo pÅ™eÄÃ­st databÃ¡zi LNbits, pÅ™ejdÄ›te do sloÅ¾ky LNbits /data a vyhledejte soubor s nÃ¡zvem sqlite.db. MÅ¯Å¾ete jej otevÅ™Ã­t a upravovat pomocÃ­ programu Excel nebo pomocÃ­ specializovanÃ©ho editoru SQL, jako je [SQLite browser](https://sqlitebrowser.org/).

TakÃ© mÅ¯Å¾ete vypisovat penÄ›Å¾enky pÅ™es cli a zobrazit kaÅ¾dou penÄ›Å¾enku v databÃ¡zi.

```
cd ~/app-data/lnbits/data
sqlite3 database.sqlite3
.dump wallets
```

VÃ½stup bude vypadat takto

```
INSERT INTO wallets VALUES('f8a43fc363ea428db5c53b3559935f1f','NAME OF WALLET','1280ff5910a9c485a782a2376f338b6c','33b95b099ce848e3b484124373f681e5','2cca208ae6d94d438227b9487ff216f9');
```

a tyto hodnoty chcete vloÅ¾it do url takto

```
https://your.lnbits.com/wallet?usr=1280ff5910a9c485a782a2376f338b6c&wal=f8a43fc363ea428db5c53b3559935f1f
```

PÅ™iÄemÅ¾ f8a43fc363ea428db5c53b3559935f1f nahradÃ­te hodnotou, kterÃ¡ je pÅ™ed jmÃ©nem (v naÅ¡em pÅ™Ã­kladu f8a43fc363ea428db5c53b3559935f1f), a 1280ff5910a9c485a782a2376f338b6c je vÃ¡Å¡ uÅ¾ivatel a mÄ›la by se stÃ¡t hodnotou uvedenou za jmÃ©nem. Pro ukonÄenÃ­ sqlite3 zadejte

```
.quit
```

#### LNURL pro bleskovou adresu a naopak

Zkuste tento [kodÃ©r](https://lnurl-codec.netlify.app/) od fiatjaf nebo [tento](https://lightningdecoder.com/). Pro platbu nebo kontrolu LNURLp mÅ¯Å¾ete takÃ© pouÅ¾Ã­t [LNurlpay](https://wwww.lnurlpay.com/). MÄ›lo by na nÄ›m bÃ½t uvedeno HTTPS, NE HTTP.

#### Konfigurace komentÃ¡Å™e, kterÃ½ lidÃ© vidÃ­ pÅ™i placenÃ­ na mÅ¯j LNURLp QR

PÅ™i vytvÃ¡Å™enÃ­ LNURL-p se pole pro komentÃ¡Å™ ve vÃ½chozÃ­m nastavenÃ­ nevyplÅˆuje. To znamenÃ¡, Å¾e k platbÃ¡m nenÃ­ povoleno pÅ™ipojovat komentÃ¡Å™e.

Chcete-li povolit komentÃ¡Å™e, pÅ™idejte dÃ©lku znakÅ¯ pole, od 1 do 250. Jakmile tam vloÅ¾Ã­te ÄÃ­slo, pole pro komentÃ¡Å™ se zobrazÃ­ v procesu platby. MÅ¯Å¾ete takÃ© upravit jiÅ¾ vytvoÅ™enÃ½ LNURL-p a pÅ™idat toto ÄÃ­slo.

![lnbits comments](assets/lnbits-comments.webp)

#### Vklad onchain BTC na LNbits

ExistujÃ­ dva zpÅ¯soby, jak vymÄ›nit saty z onchainu BTC na LN BTC (resp. na LNbits).

##### ProstÅ™ednictvÃ­m externÃ­ vÃ½mÄ›nnÃ© sluÅ¾by.

OstatnÃ­ uÅ¾ivatelÃ©, kteÅ™Ã­ nemajÃ­ pÅ™Ã­stup k vaÅ¡emu LNb, mohou pouÅ¾Ã­t vÃ½mÄ›nnou sluÅ¾bu, napÅ™Ã­klad [Boltz](https://boltz.exchange/), [FixedFloat](https://fixedfloat.com/), [DiamondHands](https://swap.diamondhands.technology/) nebo [ZigZag](https://zigzag.io/). To je uÅ¾iteÄnÃ©, pokud ze svÃ© instance LNbits poskytujete pouze faktury LNURL/LN, ale plÃ¡tce mÃ¡ pouze onchain saty, takÅ¾e bude muset na svÃ© stranÄ› nejprve vymÄ›nit tyto saty. Postup je jednoduchÃ½: uÅ¾ivatel poÅ¡le onchain btc do swapovÃ© sluÅ¾by a jako cÃ­l swapu poskytne LNURL/LN fakturu z LNbits.

##### PouÅ¾itÃ­ rozÅ¡Ã­Å™enÃ­ Onchain a Boltz LNbits.

MÄ›jte na pamÄ›ti, Å¾e se jednÃ¡ o samostatnou penÄ›Å¾enku, nikoliv o penÄ›Å¾enku LN btc, kterou LNbits reprezentuje jako "vaÅ¡i penÄ›Å¾enku" pÅ™i vaÅ¡em zdroji financovÃ¡nÃ­ LN. Tuto onchain penÄ›Å¾enku lze takÃ© pouÅ¾Ã­t k vÃ½mÄ›nÄ› LN btc do (napÅ™. vaÅ¡Ã­ hardwarovÃ© penÄ›Å¾enky) pomocÃ­ rozÅ¡Ã­Å™enÃ­ LNbits Boltz nebo Deezy. Pokud provozujete webovÃ½ obchod, kterÃ½ je propojen s vaÅ¡Ã­m LNbits pro platby LN, je velmi praktickÃ© pravidelnÄ› vypouÅ¡tÄ›t vÅ¡echny saty z LN do onchainu. To vede k tomu, Å¾e ve vaÅ¡ich LN kanÃ¡lech je vÃ­ce mÃ­sta, abyste mohli pÅ™ijÃ­mat novÃ© ÄerstvÃ© saty.

Postup pro ty, kteÅ™Ã­ nemajÃ­ hardwarovou penÄ›Å¾enku Bitcoin:


- PomocÃ­ penÄ›Å¾enky Electrum nebo Sparrow vytvoÅ™te novou onchain penÄ›Å¾enku a zÃ¡loÅ¾nÃ­ seed uloÅ¾te na bezpeÄnÃ© mÃ­sto.
- PÅ™ejdÄ›te na informace o penÄ›Å¾ence a zkopÃ­rujte xpub.
- PÅ™ejdÄ›te na LNbits - rozÅ¡Ã­Å™enÃ­ Onchain a vytvoÅ™te novou penÄ›Å¾enku pouze pro hodinky s tÃ­mto xpubem.
- PÅ™ejdÄ›te na LNbits - RozÅ¡Ã­Å™enÃ­ Tipjar a vytvoÅ™te novÃ½ Tipjar. KromÄ› penÄ›Å¾enky LN vyberte takÃ© moÅ¾nost onchain.
- VolitelnÄ› - PÅ™ejdÄ›te na LNbits - rozÅ¡Ã­Å™enÃ­ SatsPay a vytvoÅ™te novÃ½ poplatek za onchain btc. MÅ¯Å¾ete si vybrat mezi onchain a LN nebo obÄ›ma. PotÃ© se vytvoÅ™Ã­ faktura, kterou lze sdÃ­let.
- NepovinnÃ© - Pokud pouÅ¾Ã­vÃ¡te LNbits propojenÃ© se strÃ¡nkou Wordpress + Woocommerce, jakmile vytvoÅ™Ã­te/spojÃ­te penÄ›Å¾enku pouze pro hodinky s penÄ›Å¾enkou LN btc shopu, zÃ¡kaznÃ­k bude mÃ­t obÄ› moÅ¾nosti platby na stejnÃ© obrazovce.

PÅ™i pÅ™ijetÃ­ platby v LNbits se v protokolu transakcÃ­ zobrazÃ­ pouze obnovenÃ½ typ transakce.

![lnbits payment details](assets/lnbits-payment-details.webp)

V pÅ™ehledu transakcÃ­ najdete malou zelenou Å¡ipku pro pÅ™ijatÃ© a Äervenou Å¡ipku pro odeslanÃ© prostÅ™edky.

Pokud na tyto Å¡ipky kliknete, zobrazÃ­ se vyskakovacÃ­ okno s podrobnostmi o pÅ™ipojenÃ½ch zprÃ¡vÃ¡ch a jmÃ©no odesÃ­latele, pokud je uvedeno.

Konfigurace jmÃ©na, kterÃ© se mÃ¡ zobrazovat v rÃ¡mci plateb, v LNbits to v souÄasnÃ© dobÄ› nenÃ­ moÅ¾nÃ© - ale pÅ™ijÃ­mat. To je moÅ¾nÃ© pouze v pÅ™Ã­padÄ›, Å¾e penÄ›Å¾enka LN odesÃ­latele podporuje [LUD-18](https://github.com/lnurl/luds/blob/luds/18.md) (nameDesc) jako [OBW, Blixt, Alby, ZBD, BitBanana](https://github.com/lnurl/luds?tab=readme-ov-file#lnurl-documents).

V ÄÃ¡sti s podrobnostmi o transakcÃ­ch LNbits se pak zobrazÃ­ alias/pseudonym (kliknÄ›te na Å¡ipky). VÅ¡imnÄ›te si, Å¾e tam mÅ¯Å¾ete uvÃ©st libovolnÃ© jmÃ©no, kterÃ© nemusÃ­ souviset se skuteÄnÃ½m jmÃ©nem odesÃ­latele, pokud takovÃ© jmÃ©no obdrÅ¾Ã­te.

![lnbits namedesc](assets/lnbits-namedesc.webp)

Chcete-li importovat svÅ¯j ÃºÄet LNbits do aplikace penÄ›Å¾enky, otevÅ™ete LNbits s ÃºÄtem / penÄ›Å¾enkou, kterou chcete pouÅ¾Ã­vat, pÅ™ejdÄ›te na "spravovat rozÅ¡Ã­Å™enÃ­" a aktivujte rozÅ¡Ã­Å™enÃ­ LNDHUB. OtevÅ™ete rozÅ¡Ã­Å™enÃ­ LNDHUB, vyberte penÄ›Å¾enku, kterou chcete pouÅ¾Ã­vat, a naskenujte buÄ "admin", nebo "invoice only" QR v zÃ¡vislosti na Ãºrovni zabezpeÄenÃ­, kterou pro danou penÄ›Å¾enku chcete.

Jako penÄ›Å¾enkovÃ© aplikace pro ÃºÄet lndhub mÅ¯Å¾ete pouÅ¾Ã­t [Zeus](https://zeusln.app/) nebo [Bluewallet](https://bluewallet.io/), pÅ™iÄemÅ¾ BW podporuje vÃ­ce neÅ¾ jednu takovou penÄ›Å¾enku.

PÅ™itom doporuÄujeme nastavit sÃ­Å¥ovÃ½ URI LN na URI vlastnÃ­ho uzlu. Pokud je vaÅ¡e instance LNbits pouze Tor, musÃ­te tyto aplikace pouÅ¾Ã­vat takÃ© s aktivovanÃ½m Tor. TakÃ© v tomto pÅ™Ã­padÄ› musÃ­te strÃ¡nku LNbits otevÅ™Ã­t prostÅ™ednictvÃ­m svÃ© adresy Tor .onion.

Pokud se vÃ¡m pÅ™i pouÅ¾itÃ­ ypub v rozÅ¡Ã­Å™enÃ­ On-chain objevÃ­ chyba "unsupported hash type", zkontrolujte, zda vaÅ¡e instance LNbits pouÅ¾Ã­vÃ¡ python 3.10, mÅ¯Å¾e bÃ½t ovlivnÄ›na [tÃ­mto problÃ©mem](https://stackoverflow.com/questions/72409563/unsupported-hash-type-ripemd160-with-hashlib-in-python). Upravte soubor openssl.cnf podle popisu v odpovÄ›di na stackoverflow a restartujte LNbits.

## Tvorba nÃ¡strojÅ¯ a konstrukce pomocÃ­ LNbits

LNbits mÃ¡ nejrÅ¯znÄ›jÅ¡Ã­ [otevÅ™enÃ© API](https://legend.lnbits.com/docs) a nÃ¡stroje pro programovÃ¡nÃ­ a pÅ™ipojenÃ­ k mnoha rÅ¯znÃ½m zaÅ™Ã­zenÃ­m pro miliardu pÅ™Ã­padÅ¯ pouÅ¾itÃ­.

Pokud se stavÄ›nÃ­m zaÄÃ­nÃ¡te, zaÄnÄ›te s tÃ­mto [MakerBits prezentace](https://www.youtube.com/channel/UCZhKfzK6_KWZ-CFC2wXQVBw/videos) od Bena Arca o stavbÄ› gadgetÅ¯ zaloÅ¾enÃ½ch na LNbits.

### DÅ®LEÅ½ITÃ‰:


- LNbits funguje na zÃ¡kladÄ› protokolu LNURL, jehoÅ¾ poÅ¾adavky jsou platnÃ© ve dvou formÃ¡ch: buÄ jako https:// clearnet link (nejsou povoleny Å¾Ã¡dnÃ© certifikÃ¡ty podepsanÃ© vlastnÃ­m jmÃ©nem), nebo jako http:// v2/v3 onion link. Chcete-li nabÃ­zet sluÅ¾by LNbits, jako jsou kÃ³dy LNURLp/w QR nebo karty NFC, kterÃ© lze pouÅ¾Ã­vat ve volnÃ© pÅ™Ã­rodÄ›, je tÅ™eba otevÅ™Ã­t LNbits do sÃ­tÄ› clearnet (https).
- K napÃ¡jenÃ­ zaÅ™Ã­zenÃ­ esp32 pouÅ¾Ã­vejte pouze kabely DATA. Ne vÅ¡echny kabely podporujÃ­ kromÄ› napÃ¡jenÃ­ esp takÃ© data. Nebyli byste prvnÃ­, kdyby kabel dodanÃ½ s esp byl pouze napÃ¡jecÃ­
- Dbejte na to, abyste nepouÅ¾Ã­vali USB-Hub s pÅ™ipojenÃ½mi dalÅ¡Ã­mi zaÅ™Ã­zenÃ­mi. To mÅ¯Å¾e vÃ©st k podivnÃ½m efektÅ¯m, kterÃ© se obtÃ­Å¾nÄ› ladÃ­ (napÅ™. nespuÅ¡tÄ›nÃ­ nebo zastavenÃ­).
- Pro realizaci projektÅ¯ esp s operaÄnÃ­m systÃ©mem MacOS budete potÅ™ebovat ovladaÄ UART Bridge Driver. Pokud mÃ¡te problÃ©my s ovladaÄem v systÃ©mech Mac nebo Linux, mÅ¯Å¾ete je najÃ­t zde, nebo pokud se jednÃ¡ o TTGO Display, zde. Pokud jste na Windows a mÃ¡te problÃ©my s pÅ™ipojenÃ­m, ujistÄ›te se, Å¾e jste si stÃ¡hli STAROU verzi 11.1.0, protoÅ¾e novÄ›jÅ¡Ã­ nefunguje! SÃ©riovÃ½ terminÃ¡l pro kontrolu pÅ™ipojenÃ­ najdete takÃ© zde - nastavte pÅ™enosovou rychlost 115200.
- PÅ™estoÅ¾e je mnohem pohodlnÄ›jÅ¡Ã­ pouÅ¾Ã­vat Platform.io (napÅ™. zÃ¡vislosti se instalujÃ­ automaticky), doporuÄujeme vÅ¡em, kteÅ™Ã­ se s tvorbou poÄÃ­taÄÅ¯ teprve seznamujÃ­, pouÅ¾Ã­vat Arduino.
- Displej TT-Go S3: Barva zÃ¡loÅ¾ky ochrannÃ© fÃ³lie displeje vÃ¡m napovÃ­, kterÃ½ pÅ™esnÄ› ovladaÄ (ST7735_redtab, ST7735_blacktag, ST7735_greetab, greentab128, ..) byl pouÅ¾it k jejÃ­ vÃ½robÄ›. Ponechte si ji, abyste mohli ladit, pokud se naprogramujete a obrazovka nezobrazÃ­ sprÃ¡vnÄ› grafiku, napÅ™. Å¡patnÃ© barvy, zrcadlenÃ­ obrazu nebo rozhozenÃ© pixely na okrajÃ­ch. Pokud byste to nÄ›kdy potÅ™ebovali udÄ›lat, existuje epickÃ½ nÃ¡vod na pÅ™izpÅ¯sobenÃ­ pro rÅ¯znÃ© displeje
- VÅ¾dy pouÅ¾Ã­vejte malÃ¡ pÃ­smena lnurl239xx mÃ­sto LNURLl239xx
- PÅ™idÃ¡nÃ­m lightning:lnurl1234xyz se vytvoÅ™Ã­ QR, kterÃ½ pÅ™i skenovÃ¡nÃ­ poÅ¾Ã¡dÃ¡ o otevÅ™enÃ­ penÄ›Å¾enky uÅ¾ivatele pro tuto fakturu (poslednÃ­ nainstalovanÃ¡ aplikace lightning v systÃ©mu iOS, nastavenÃ­ v systÃ©mu Android)
- Pokud flashujete esp32 pÅ™es web, bude fungovat pouze s tÄ›mito prohlÃ­Å¾eÄi (TL:DR Chrome, Edge a Opera).
- VezmÄ›te prosÃ­m na vÄ›domÃ­ tento odkaz PIN-OUT pro esp
- Pokud pouÅ¾Ã­vÃ¡te FOSSoftware nebo FOSGuides, vÅ¾dy uveÄte odkaz na autora. KaÅ¾dÃ½ rÃ¡d sleduje, jak jeho dÃ­tÄ› roste, a takÃ© to iniciuje Å™etÄ›zec budovÃ¡nÃ­, kterÃ½ je docela ÃºÅ¾asnÃ© sledovat :)

Pokud potÅ™ebujete pomoc s projektem, pÅ™ijÄte do skupiny [Makerbits Telegram Group](https://t.me/makerbits) - mÃ¡me pro vÃ¡s pomoc!

![lnbits hackathlon](assets/lnbits-hackathlon.webp)

Zde je nÄ›kolik kategoriÃ­ projektÅ¯, kterÃ© mÅ¯Å¾ete vytvoÅ™it pomocÃ­ LNbits:


- [Nostr Signing Device](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#nostr-signing-device)
- [Archade Machine](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#arcade-machine)
- [Gerty](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#gerty)
- [Nostr Zap Lamp](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#zap-lamp)
- [BTC/LN ATM](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#atm)
- [LNPoS](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#lnpos-terminal)
- [Lightning Piggy](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#lightning-piggy)
- [HardwarovÃ¡ penÄ›Å¾enka](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#hardware-wallet)
- [Bitcoin Switch](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#bitcoin-switch)
- [ProdejnÃ­ automat](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#vending-machine)
- [Bolty](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#bolty)
- [Nerdminer](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#Nerdminer)
- [Bitcoin Ticker](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#bitcoin-ticker)
- [BTClock](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#btclock)
- [Lora a Mesh Networking](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#lora)
- [POMOCNÃCI A ZDROJE](https://github.com/lnbits/lnbits/wiki/Tooling-&-Building-with-LNbits#resources)
- [DalÅ¡Ã­ pÅ™Ã­klady projektÅ¯ "Powered by LNbits" zde](https://github.com/lnbits/lnbits/wiki/Powered-by-LNbits).
- [PÅ™Ã­pady pouÅ¾itÃ­ pro LNbits](https://github.com/lnbits/lnbits/wiki/Use-Cases-of-LNbits)